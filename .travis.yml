language: python
sudo: required
cache: pip
env:
  global:
  - LD_PRELOAD=/lib/x86_64-linux-gnu/libSegFault.so
  - SEGFAULT_SIGNALS=all
  matrix:
  - TOXENV=check
  - TOXENV=docs
matrix:
  include:
  - python: '2.7'
    env:
    - TOXENV=2.7-cover,report,coveralls,codecov
  - python: '2.7'
    env:
    - TOXENV=2.7-nocov
  - python: '3.3'
    env:
    - TOXENV=3.3-cover,report,coveralls,codecov
  - python: '3.3'
    env:
    - TOXENV=3.3-nocov
  - python: '3.4'
    env:
    - TOXENV=3.4-cover,report,coveralls,codecov
  - python: '3.4'
    env:
    - TOXENV=3.4-nocov
  - python: '3.5'
    env:
    - TOXENV=3.5-cover,report,coveralls,codecov
  - python: '3.5'
    env:
    - TOXENV=3.5-nocov
  - python: '3.6'
    env:
    - TOXENV=3.6-cover,report,coveralls,codecov
  - python: '3.6'
    env:
    - TOXENV=3.6-nocov
before_install:
- python --version
- uname -a
- lsb_release -a
install:
- pip install tox
- virtualenv --version
- easy_install --version
- pip --version
- tox --version
script:
- tox -v
after_failure:
- more .tox/log/* | cat
- more .tox/*/log/* | cat
notifications:
  email:
    on_success: never
    on_failure: always
deploy:
  provider: pypi
  user: j340m3
  password:
    secure: "dRaxSzF+ZTqHZJK2JybZY+AfqySdZBNpODy1LcNEn3XKA9ot33ajtGNA9iPiLNb1uzlFwrDrwn3viN05M3eKYlXnXkR8oajMqNqhGxnUqL6WFIA9tbv3jEkLyEu/zd8CZiz3d/HKt6TI/EfLcEZkp/fjRyqOVNkmnKBOMcfYhkK6l655SrBobfGPLBf/jqB9qoNjS68kN4auULyhx0gpWVTlJtnUTc2XDcRK1Dnl2DUYC+GOvDK56c/hT0fDrhbgsoQSZBWMLg2BXUXZt5YuOg5HBPV7mpH7rUmlaKR744VKm3OQ/ciheTlvfVHcm74DD9qU8emOdcCf8ngs3/DiZeQFzk2o9pAxff4gUZQFbkyswqu0FLywTvRW+i5K4Hj2ChVHf6icmzBj//PU85Wwfp41438py1yYhUkavgJoQOT3VicebR3GisGnsu+gA6joMRIYAmsdZ8adZLRQENQFNJTSgsaYru+twnnZAZ4UZW1GuiR2V9fMFNUXI3dqh9oCNJ5tDwCsqnqeRpWud/s4vDa7lni4hYH+oIf4ZQ9LUs3Fd2lkJ59Fu7yJdp8KgcHAWFuvMzIi3YEtiYxAbYIjSqnhllXUAroFkuZ9Rv0XealS1x1NvlnaiewQKRFIaVqVblKESDVpjIfeVMOVOls4QcSo6JT1iiL6Xh/ozMRrDSQ="
  on:
    condition: $TOXENV == 2.7-nocov
    repo: j340m3/python-msquaredc
  distributions: "sdist bdist_wheel"
